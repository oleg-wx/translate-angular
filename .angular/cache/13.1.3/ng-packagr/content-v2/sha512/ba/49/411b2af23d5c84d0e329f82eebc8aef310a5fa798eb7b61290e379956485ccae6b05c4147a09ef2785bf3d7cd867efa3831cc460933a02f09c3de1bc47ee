{"hash":"179edf2cbaaa8e635a6bad01b2c47ba3ad855b76","fesm2020":{"code":"import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Optional, Inject, Directive, Input, Pipe, APP_INITIALIZER, NgModule } from '@angular/core';\nimport { Translations } from 'simply-translate';\nimport { BehaviorSubject, Subject, isObservable, tap, finalize, lastValueFrom } from 'rxjs';\nimport { v4 } from 'uuid';\n\nconst DEFAULT_OPTIONS = new InjectionToken('TranslateService DEFAULT_OPTIONS');\r\nclass TranslateService {\r\n    constructor(options) {\r\n        this.langChangeSubj = new BehaviorSubject({});\r\n        this.dictionarySubj = new Subject();\r\n        this.languageChange$ = this.langChangeSubj.asObservable();\r\n        this.dictionaryChange$ = this.dictionarySubj.asObservable();\r\n        const cd = options ? options.cacheDynamic : false;\r\n        this.service = new Translations({}, { cacheDynamic: options?.cacheDynamic !== false, $less: !!options?.$less });\r\n    }\r\n    set defaultLang(val) {\r\n        this.service.defaultLang = val;\r\n        this.langChangeSubj.next({ defaultLang: this.defaultLang, fallbackLang: this.fallbackLang });\r\n    }\r\n    get defaultLang() {\r\n        return this.service.defaultLang;\r\n    }\r\n    set fallbackLang(val) {\r\n        this.service.fallbackLang = val;\r\n        this.langChangeSubj.next({ defaultLang: this.defaultLang, fallbackLang: this.fallbackLang });\r\n    }\r\n    get fallbackLang() {\r\n        return this.service.fallbackLang;\r\n    }\r\n    translateTo(lang, key, dynamicValuesOrFallback, fallback) {\r\n        return this.service.translateTo(lang, key, dynamicValuesOrFallback, fallback);\r\n    }\r\n    translate(key, dynamicValuesOrFallback, fallback) {\r\n        return this.service.translate(key, dynamicValuesOrFallback, fallback);\r\n    }\r\n    extendDictionary(lang, dictionary) {\r\n        this.service.extendDictionary(lang, dictionary);\r\n        this.dictionarySubj.next();\r\n    }\r\n}\r\nTranslateService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateService, deps: [{ token: DEFAULT_OPTIONS, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\r\nTranslateService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateService });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateService, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\r\n                    type: Optional\r\n                }, {\r\n                    type: Inject,\r\n                    args: [DEFAULT_OPTIONS]\r\n                }] }]; } });\n\nclass TranslateDirective {\r\n    constructor(element, service) {\r\n        this.element = element;\r\n        this.service = service;\r\n        this._init = false;\r\n    }\r\n    ngOnInit() {\r\n        this._init = true;\r\n    }\r\n    ngOnChanges() {\r\n        if (!this._init)\r\n            this._fb = this.element.nativeElement.innerText;\r\n        if (this._key) {\r\n            this.element.nativeElement.innerText = this.service.translateTo(this._to || this.service.defaultLang, this._key, this._values, this._fb);\r\n        }\r\n        else {\r\n            this.element.nativeElement.innerText = this._fb || '';\r\n        }\r\n    }\r\n}\r\nTranslateDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateDirective, deps: [{ token: i0.ElementRef }, { token: TranslateService }], target: i0.ɵɵFactoryTarget.Directive });\r\nTranslateDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.1.2\", type: TranslateDirective, selector: \"[translate]\", inputs: { _key: [\"translate\", \"_key\"], _to: [\"to\", \"_to\"], _values: [\"values\", \"_values\"] }, usesOnChanges: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[translate]',\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: TranslateService }]; }, propDecorators: { _key: [{\r\n                type: Input,\r\n                args: ['translate']\r\n            }], _to: [{\r\n                type: Input,\r\n                args: ['to']\r\n            }], _values: [{\r\n                type: Input,\r\n                args: ['values']\r\n            }] } });\n\nclass TranslatePipe {\r\n    constructor(service) {\r\n        this.service = service;\r\n    }\r\n    transform(key, dynamicOrFallback, fallback) {\r\n        if (key == null || key === '') {\r\n            return '';\r\n        }\r\n        const result = this.service.translate(key, dynamicOrFallback, fallback);\r\n        return result;\r\n    }\r\n}\r\nTranslatePipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslatePipe, deps: [{ token: TranslateService }], target: i0.ɵɵFactoryTarget.Pipe });\r\nTranslatePipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslatePipe, name: \"translate\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslatePipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{ name: 'translate' }]\r\n        }], ctorParameters: function () { return [{ type: TranslateService }]; } });\r\nclass TranslateToPipe {\r\n    constructor(service) {\r\n        this.service = service;\r\n    }\r\n    transform(key, lang, dynamicOrFallback, fallback) {\r\n        if (key == null || key === '') {\r\n            return '';\r\n        }\r\n        const result = this.service.translateTo(lang, key, dynamicOrFallback, fallback);\r\n        return result;\r\n    }\r\n}\r\nTranslateToPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateToPipe, deps: [{ token: TranslateService }], target: i0.ɵɵFactoryTarget.Pipe });\r\nTranslateToPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateToPipe, name: \"translateTo\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateToPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{ name: 'translateTo' }]\r\n        }], ctorParameters: function () { return [{ type: TranslateService }]; } });\n\nconst S_TRANSLATE = new InjectionToken('S_TRANSLATE');\n\nclass TranslateResolve {\r\n    //abstract load(): Observable<{ [lang: string]: Dictionary }>;\r\n    constructor(service, injector, settings) {\r\n        this.service = service;\r\n        this._extended = {};\r\n        this.id = settings.id;\r\n        this.extend = () => {\r\n            const deps = settings.deps.map((d) => injector.get(d));\r\n            return settings.extend(service, ...deps);\r\n        };\r\n    }\r\n    resolve() {\r\n        if (typeof this.extend === 'function') {\r\n            if (!Object.prototype.hasOwnProperty.call(this._extended, this.id)) {\r\n                if (isObservable(this._extended[this.id])) {\r\n                    return this._extended[this.id];\r\n                }\r\n                return (this._extended[this.id] = this.extend().pipe(tap((res) => {\r\n                    for (let lang in res) {\r\n                        this.service.extendDictionary(lang, res[lang]);\r\n                    }\r\n                }), finalize(() => {\r\n                    this._extended[this.id] = null;\r\n                })));\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\nTranslateResolve.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateResolve, deps: [{ token: TranslateService }, { token: i0.Injector }, { token: S_TRANSLATE }], target: i0.ɵɵFactoryTarget.Injectable });\r\nTranslateResolve.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateResolve });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateResolve, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: TranslateService }, { type: i0.Injector }, { type: undefined, decorators: [{\r\n                    type: Inject,\r\n                    args: [S_TRANSLATE]\r\n                }] }]; } });\n\nfunction factory(init) {\r\n    var ret = (service, ...deps) => {\r\n        return function () {\r\n            if (init) {\r\n                var res = init(service, ...deps);\r\n                res = res.pipe(tap((dics) => {\r\n                    Object.keys(dics).forEach((key) => {\r\n                        service.extendDictionary(key, dics[key]);\r\n                    });\r\n                }));\r\n                return lastValueFrom(res);\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n    };\r\n    return ret;\r\n}\r\nfunction forRootGuard(service) {\r\n    if (service) {\r\n        throw new Error(`TranslateModule.forRoot() called twice. Lazy loaded modules should use TranslateModule.forChild() instead.`);\r\n    }\r\n    return 'guarded';\r\n}\r\nclass TranslateModule {\r\n    static forRoot(config) {\r\n        return {\r\n            ngModule: TranslateModule,\r\n            providers: [\r\n                TranslateService,\r\n                TranslateResolve,\r\n                {\r\n                    provide: DEFAULT_OPTIONS,\r\n                    useValue: {\r\n                        cacheDynamic: config?.cacheDynamic !== undefined ? !!config?.cacheDynamic : true,\r\n                        $less: config?.$less !== undefined ? !!config?.$less : false,\r\n                    },\r\n                },\r\n                {\r\n                    provide: APP_INITIALIZER,\r\n                    useFactory: factory(config.init),\r\n                    deps: config.deps !== undefined ? [TranslateService, ...config.deps] : [TranslateService],\r\n                    multi: true,\r\n                },\r\n                {\r\n                    provide: S_TRANSLATE,\r\n                    useValue: { id: 'root' },\r\n                },\r\n            ],\r\n        };\r\n    }\r\n    static forChild(config) {\r\n        const value = { id: config?.id?.trim() || v4(), extend: config?.extend ? config.extend : undefined, deps: config.deps ?? [] };\r\n        return {\r\n            ngModule: TranslateModule,\r\n            providers: [\r\n                TranslateResolve,\r\n                {\r\n                    provide: S_TRANSLATE,\r\n                    useValue: value,\r\n                },\r\n            ],\r\n        };\r\n    }\r\n}\r\nTranslateModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nTranslateModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateModule, declarations: [TranslatePipe, TranslateToPipe, TranslateDirective], exports: [TranslatePipe, TranslateToPipe, TranslateDirective] });\r\nTranslateModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [TranslatePipe, TranslateToPipe, TranslateDirective],\r\n                    exports: [TranslatePipe, TranslateToPipe, TranslateDirective],\r\n                }]\r\n        }] });\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { DEFAULT_OPTIONS, TranslateDirective, TranslateModule, TranslatePipe, TranslateService, TranslateToPipe, factory, forRootGuard };\n//# sourceMappingURL=simply-translate-angular.mjs.map\n","map":{"version":3,"file":"simply-translate-angular.mjs","sources":["../../../projects/translate/src/translate/translate.service.ts","../../../projects/translate/src/translate/translate.directive.ts","../../../projects/translate/src/translate/translate.pipe.ts","../../../projects/translate/src/translate-child-config.ts","../../../projects/translate/src/resolver.ts","../../../projects/translate/src/simply-translate.module.ts","../../../projects/translate/src/simply-translate-angular.ts"],"sourcesContent":["import { APP_INITIALIZER, Inject, Injectable, InjectionToken, Injector, Optional } from '@angular/core';\r\nimport { Translations, Dictionary } from 'simply-translate';\r\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\r\nimport { TranslateDynamicProps, TranslateKey } from 'simply-translate';\r\n\r\nexport const DEFAULT_OPTIONS = new InjectionToken<{ cacheDynamic?: boolean }>('TranslateService DEFAULT_OPTIONS');\r\n\r\n@Injectable()\r\nexport class TranslateService {\r\n    private langChangeSubj = new BehaviorSubject<{ defaultLang?: string; fallbackLang?: string }>({});\r\n    private dictionarySubj = new Subject<void>();\r\n    private service: Translations;\r\n\r\n    public languageChange$ = this.langChangeSubj.asObservable();\r\n    public dictionaryChange$ = this.dictionarySubj.asObservable();\r\n\r\n    public set defaultLang(val: string) {\r\n        this.service.defaultLang = val;\r\n        this.langChangeSubj.next({ defaultLang: this.defaultLang, fallbackLang: this.fallbackLang });\r\n    }\r\n\r\n    public get defaultLang(): string {\r\n        return this.service.defaultLang;\r\n    }\r\n\r\n    public set fallbackLang(val: string) {\r\n        this.service.fallbackLang = val;\r\n        this.langChangeSubj.next({ defaultLang: this.defaultLang, fallbackLang: this.fallbackLang });\r\n    }\r\n\r\n    public get fallbackLang(): string {\r\n        return this.service.fallbackLang;\r\n    }\r\n\r\n    constructor(@Optional() @Inject(DEFAULT_OPTIONS) options) {\r\n        const cd = options ? options.cacheDynamic : false;\r\n        this.service = new Translations({}, { cacheDynamic: options?.cacheDynamic !== false, $less: !!options?.$less });\r\n    }\r\n\r\n    translateTo(lang: string, key: TranslateKey): string;\r\n    translateTo(lang: string, key: TranslateKey, fallback: string): string;\r\n    translateTo(lang: string, key: TranslateKey, dynamicValues: TranslateDynamicProps, fallback?: string): string;\r\n    translateTo(lang: string, key: TranslateKey, dynamicValuesOrFallback?: TranslateDynamicProps | string, fallback?: string): string {\r\n        return this.service.translateTo(lang, key, dynamicValuesOrFallback as any, fallback);\r\n    }\r\n\r\n    translate(key: TranslateKey): string;\r\n    translate(key: TranslateKey, fallback: string): string;\r\n    translate(key: TranslateKey, dynamicValues: TranslateDynamicProps, fallback?: string): string;\r\n    translate(key: TranslateKey, dynamicValuesOrFallback?: TranslateDynamicProps | string, fallback?: string): string {\r\n        return this.service.translate(key, dynamicValuesOrFallback as any, fallback);\r\n    }\r\n\r\n    extendDictionary(lang: string, dictionary: Dictionary) {\r\n        this.service.extendDictionary(lang, dictionary);\r\n        this.dictionarySubj.next();\r\n    }\r\n}\r\n","import { Directive, ElementRef, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { TranslateKey } from 'simply-translate';\nimport { TranslateService } from './translate.service';\n\n@Directive({\n  selector: '[translate]',\n})\nexport class TranslateDirective implements OnInit, OnChanges {\n  private _init = false;\n  private _fb?: string;\n  @Input('translate') _key?: TranslateKey;\n  @Input('to') _to?: string;\n  @Input('values') _values?: { [key: string]: string | number };\n\n  constructor(private element: ElementRef<HTMLElement>, private service: TranslateService) {}\n\n  ngOnInit(): void {\n    this._init = true;\n  }\n  ngOnChanges(): void {\n    if (!this._init) this._fb = this.element.nativeElement.innerText;\n\n    if (this._key) {\n      this.element.nativeElement.innerText = this.service.translateTo(this._to || this.service.defaultLang!, this._key, this._values, this._fb);\n    } else {\n      this.element.nativeElement.innerText = this._fb || '';\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TranslateDynamicProps, TranslateKey } from 'simply-translate';\r\nimport { TranslateService } from './translate.service';\r\n\r\n@Pipe({ name: 'translate' })\r\nexport class TranslatePipe implements PipeTransform {\r\n  constructor(private service: TranslateService) {}\r\n  transform(key: TranslateKey, dynamicOrFallback?: TranslateDynamicProps | string, fallback?: string): string {\r\n    if (key == null || key === '') {\r\n      return '';\r\n    }\r\n    const result = this.service.translate(key, dynamicOrFallback as any, fallback);\r\n    return result;\r\n  }\r\n}\r\n\r\n@Pipe({ name: 'translateTo' })\r\nexport class TranslateToPipe implements PipeTransform {\r\n  constructor(private service: TranslateService) {}\r\n  transform(key: TranslateKey, lang: string, dynamicOrFallback?: TranslateDynamicProps | string, fallback?: string): string {\r\n    if (key == null || key === '') {\r\n      return '';\r\n    }\r\n    const result = this.service.translateTo(lang, key, dynamicOrFallback as any, fallback);\r\n    return result;\r\n  }\r\n}\r\n","import { InjectionToken } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Dictionary } from 'simply-translate';\r\nimport { TranslateService } from './translate/translate.service';\r\n\r\nexport interface TranslateSettings {\r\n  id: string;\r\n  extend: (service: TranslateService, ...deps: any[]) => Observable<{ [lang: string]: Dictionary }>;\r\n  deps:any[],\r\n}\r\nexport const S_TRANSLATE = new InjectionToken<TranslateSettings>('S_TRANSLATE');\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable, Injector, ProviderToken, Self, SkipSelf } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { isObservable, Observable, of, tap, finalize } from 'rxjs';\r\nimport { Dictionary } from 'simply-translate';\r\nimport { S_TRANSLATE, TranslateSettings } from './translate-child-config';\r\nimport { TranslateService } from './translate/translate.service';\r\n\r\n@Injectable()\r\nexport class TranslateResolve implements Resolve<any> {\r\n  private _extended: { [key: string]: null | Observable<any> } = {};\r\n  protected readonly id: string;\r\n  protected readonly extend: () => Observable<any>;\r\n\r\n  //abstract load(): Observable<{ [lang: string]: Dictionary }>;\r\n\r\n  constructor(protected service: TranslateService, injector: Injector, @Inject(S_TRANSLATE) settings: TranslateSettings) {\r\n    this.id = settings.id;\r\n    this.extend = () => {\r\n      const deps = settings.deps.map((d: ProviderToken<any>) => injector.get(d));\r\n      return settings.extend(service, ...deps);\r\n    };\r\n  }\r\n\r\n  public resolve(): Observable<any> | null {\r\n    if (typeof this.extend === 'function') {\r\n      if (!Object.prototype.hasOwnProperty.call(this._extended, this.id)) {\r\n        if (isObservable(this._extended[this.id])) {\r\n          return this._extended[this.id];\r\n        }\r\n        return (this._extended[this.id] = this.extend().pipe(\r\n          tap((res: { [lang: string]: Dictionary }) => {\r\n            for (let lang in res) {\r\n              this.service.extendDictionary(lang, res[lang]);\r\n            }\r\n          }),\r\n          finalize(() => {\r\n            this._extended[this.id] = null;\r\n          })\r\n        ));\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport { APP_INITIALIZER, Injector, ModuleWithProviders, NgModule, Optional, Self, SkipSelf } from '@angular/core';\r\nimport { DEFAULT_OPTIONS, TranslateService } from './translate/translate.service';\r\nimport { TranslatePipe, TranslateToPipe } from './translate/translate.pipe';\r\nimport { TranslateDirective } from './translate/translate.directive';\r\nimport { lastValueFrom, Observable, tap } from 'rxjs';\r\nimport { TranslateResolve } from './resolver';\r\nimport { S_TRANSLATE, TranslateSettings } from './translate-child-config';\r\nimport { Dictionary } from 'simply-translate';\r\n\r\nexport function factory(init?: Function) {\r\n  var ret = (service: TranslateService, ...deps: any[]) => {\r\n    return function () {\r\n      if (init) {\r\n        var res: Observable<Record<string, Dictionary>> = init(service, ...deps);\r\n        res = res.pipe(\r\n          tap((dics) => {\r\n            Object.keys(dics).forEach((key) => {\r\n              service.extendDictionary(key, dics[key]);\r\n            });\r\n          })\r\n        );\r\n        return lastValueFrom(res);\r\n      }\r\n      return Promise.resolve();\r\n    };\r\n  };\r\n  return ret;\r\n}\r\n\r\nexport function forRootGuard(service: TranslateService): any {\r\n  if (service) {\r\n    throw new Error(`TranslateModule.forRoot() called twice. Lazy loaded modules should use TranslateModule.forChild() instead.`);\r\n  }\r\n  return 'guarded';\r\n}\r\n\r\nexport interface Config {\r\n  init?: (service: TranslateService, ...any) => Observable<Record<string, Dictionary>>;\r\n  deps?: any[];\r\n  cacheDynamic?: boolean;\r\n  $less?: boolean;\r\n}\r\n\r\nexport interface ChildConfig {\r\n  extend?: (service: TranslateService, ...any) => Observable<Record<string, Dictionary>>;\r\n  deps?: any[];\r\n  id?: string;\r\n}\r\n\r\n@NgModule({\r\n  declarations: [TranslatePipe, TranslateToPipe, TranslateDirective],\r\n  exports: [TranslatePipe, TranslateToPipe, TranslateDirective],\r\n})\r\nexport class TranslateModule {\r\n  static forRoot(config?: Config): ModuleWithProviders<TranslateModule> {\r\n    return {\r\n      ngModule: TranslateModule,\r\n      providers: [\r\n        TranslateService,\r\n        TranslateResolve,\r\n        {\r\n          provide: DEFAULT_OPTIONS,\r\n          useValue: {\r\n            cacheDynamic: config?.cacheDynamic !== undefined ? !!config?.cacheDynamic : true,\r\n            $less: config?.$less !== undefined ? !!config?.$less : false,\r\n          },\r\n        },\r\n        {\r\n          provide: APP_INITIALIZER,\r\n          useFactory: factory(config.init),\r\n          deps: config.deps !== undefined ? [TranslateService, ...config.deps] : [TranslateService],\r\n          multi: true,\r\n        },\r\n        {\r\n          provide: S_TRANSLATE,\r\n          useValue: { id: 'root' },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  static forChild(config?: ChildConfig): ModuleWithProviders<TranslateModule> {\r\n    const value: TranslateSettings = { id: config?.id?.trim() || uuidv4(), extend: config?.extend ? config.extend : undefined, deps: config.deps ?? [] };\r\n    return {\r\n      ngModule: TranslateModule,\r\n      providers: [\r\n        TranslateResolve,\r\n        {\r\n          provide: S_TRANSLATE,\r\n          useValue: value,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["uuidv4"],"mappings":"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"}},"fesm2015":{"code":"import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Optional, Inject, Directive, Input, Pipe, APP_INITIALIZER, NgModule } from '@angular/core';\nimport { Translations } from 'simply-translate';\nimport { BehaviorSubject, Subject, isObservable, tap, finalize, lastValueFrom } from 'rxjs';\nimport { v4 } from 'uuid';\n\nconst DEFAULT_OPTIONS = new InjectionToken('TranslateService DEFAULT_OPTIONS');\r\nclass TranslateService {\r\n    constructor(options) {\r\n        this.langChangeSubj = new BehaviorSubject({});\r\n        this.dictionarySubj = new Subject();\r\n        this.languageChange$ = this.langChangeSubj.asObservable();\r\n        this.dictionaryChange$ = this.dictionarySubj.asObservable();\r\n        const cd = options ? options.cacheDynamic : false;\r\n        this.service = new Translations({}, { cacheDynamic: (options === null || options === void 0 ? void 0 : options.cacheDynamic) !== false, $less: !!(options === null || options === void 0 ? void 0 : options.$less) });\r\n    }\r\n    set defaultLang(val) {\r\n        this.service.defaultLang = val;\r\n        this.langChangeSubj.next({ defaultLang: this.defaultLang, fallbackLang: this.fallbackLang });\r\n    }\r\n    get defaultLang() {\r\n        return this.service.defaultLang;\r\n    }\r\n    set fallbackLang(val) {\r\n        this.service.fallbackLang = val;\r\n        this.langChangeSubj.next({ defaultLang: this.defaultLang, fallbackLang: this.fallbackLang });\r\n    }\r\n    get fallbackLang() {\r\n        return this.service.fallbackLang;\r\n    }\r\n    translateTo(lang, key, dynamicValuesOrFallback, fallback) {\r\n        return this.service.translateTo(lang, key, dynamicValuesOrFallback, fallback);\r\n    }\r\n    translate(key, dynamicValuesOrFallback, fallback) {\r\n        return this.service.translate(key, dynamicValuesOrFallback, fallback);\r\n    }\r\n    extendDictionary(lang, dictionary) {\r\n        this.service.extendDictionary(lang, dictionary);\r\n        this.dictionarySubj.next();\r\n    }\r\n}\r\nTranslateService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateService, deps: [{ token: DEFAULT_OPTIONS, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\r\nTranslateService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateService });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateService, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () {\r\n        return [{ type: undefined, decorators: [{\r\n                        type: Optional\r\n                    }, {\r\n                        type: Inject,\r\n                        args: [DEFAULT_OPTIONS]\r\n                    }] }];\r\n    } });\n\nclass TranslateDirective {\r\n    constructor(element, service) {\r\n        this.element = element;\r\n        this.service = service;\r\n        this._init = false;\r\n    }\r\n    ngOnInit() {\r\n        this._init = true;\r\n    }\r\n    ngOnChanges() {\r\n        if (!this._init)\r\n            this._fb = this.element.nativeElement.innerText;\r\n        if (this._key) {\r\n            this.element.nativeElement.innerText = this.service.translateTo(this._to || this.service.defaultLang, this._key, this._values, this._fb);\r\n        }\r\n        else {\r\n            this.element.nativeElement.innerText = this._fb || '';\r\n        }\r\n    }\r\n}\r\nTranslateDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateDirective, deps: [{ token: i0.ElementRef }, { token: TranslateService }], target: i0.ɵɵFactoryTarget.Directive });\r\nTranslateDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.1.2\", type: TranslateDirective, selector: \"[translate]\", inputs: { _key: [\"translate\", \"_key\"], _to: [\"to\", \"_to\"], _values: [\"values\", \"_values\"] }, usesOnChanges: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[translate]',\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: TranslateService }]; }, propDecorators: { _key: [{\r\n                type: Input,\r\n                args: ['translate']\r\n            }], _to: [{\r\n                type: Input,\r\n                args: ['to']\r\n            }], _values: [{\r\n                type: Input,\r\n                args: ['values']\r\n            }] } });\n\nclass TranslatePipe {\r\n    constructor(service) {\r\n        this.service = service;\r\n    }\r\n    transform(key, dynamicOrFallback, fallback) {\r\n        if (key == null || key === '') {\r\n            return '';\r\n        }\r\n        const result = this.service.translate(key, dynamicOrFallback, fallback);\r\n        return result;\r\n    }\r\n}\r\nTranslatePipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslatePipe, deps: [{ token: TranslateService }], target: i0.ɵɵFactoryTarget.Pipe });\r\nTranslatePipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslatePipe, name: \"translate\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslatePipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{ name: 'translate' }]\r\n        }], ctorParameters: function () { return [{ type: TranslateService }]; } });\r\nclass TranslateToPipe {\r\n    constructor(service) {\r\n        this.service = service;\r\n    }\r\n    transform(key, lang, dynamicOrFallback, fallback) {\r\n        if (key == null || key === '') {\r\n            return '';\r\n        }\r\n        const result = this.service.translateTo(lang, key, dynamicOrFallback, fallback);\r\n        return result;\r\n    }\r\n}\r\nTranslateToPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateToPipe, deps: [{ token: TranslateService }], target: i0.ɵɵFactoryTarget.Pipe });\r\nTranslateToPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateToPipe, name: \"translateTo\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateToPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{ name: 'translateTo' }]\r\n        }], ctorParameters: function () { return [{ type: TranslateService }]; } });\n\nconst S_TRANSLATE = new InjectionToken('S_TRANSLATE');\n\nclass TranslateResolve {\r\n    //abstract load(): Observable<{ [lang: string]: Dictionary }>;\r\n    constructor(service, injector, settings) {\r\n        this.service = service;\r\n        this._extended = {};\r\n        this.id = settings.id;\r\n        this.extend = () => {\r\n            const deps = settings.deps.map((d) => injector.get(d));\r\n            return settings.extend(service, ...deps);\r\n        };\r\n    }\r\n    resolve() {\r\n        if (typeof this.extend === 'function') {\r\n            if (!Object.prototype.hasOwnProperty.call(this._extended, this.id)) {\r\n                if (isObservable(this._extended[this.id])) {\r\n                    return this._extended[this.id];\r\n                }\r\n                return (this._extended[this.id] = this.extend().pipe(tap((res) => {\r\n                    for (let lang in res) {\r\n                        this.service.extendDictionary(lang, res[lang]);\r\n                    }\r\n                }), finalize(() => {\r\n                    this._extended[this.id] = null;\r\n                })));\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\nTranslateResolve.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateResolve, deps: [{ token: TranslateService }, { token: i0.Injector }, { token: S_TRANSLATE }], target: i0.ɵɵFactoryTarget.Injectable });\r\nTranslateResolve.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateResolve });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateResolve, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () {\r\n        return [{ type: TranslateService }, { type: i0.Injector }, { type: undefined, decorators: [{\r\n                        type: Inject,\r\n                        args: [S_TRANSLATE]\r\n                    }] }];\r\n    } });\n\nfunction factory(init) {\r\n    var ret = (service, ...deps) => {\r\n        return function () {\r\n            if (init) {\r\n                var res = init(service, ...deps);\r\n                res = res.pipe(tap((dics) => {\r\n                    Object.keys(dics).forEach((key) => {\r\n                        service.extendDictionary(key, dics[key]);\r\n                    });\r\n                }));\r\n                return lastValueFrom(res);\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n    };\r\n    return ret;\r\n}\r\nfunction forRootGuard(service) {\r\n    if (service) {\r\n        throw new Error(`TranslateModule.forRoot() called twice. Lazy loaded modules should use TranslateModule.forChild() instead.`);\r\n    }\r\n    return 'guarded';\r\n}\r\nclass TranslateModule {\r\n    static forRoot(config) {\r\n        return {\r\n            ngModule: TranslateModule,\r\n            providers: [\r\n                TranslateService,\r\n                TranslateResolve,\r\n                {\r\n                    provide: DEFAULT_OPTIONS,\r\n                    useValue: {\r\n                        cacheDynamic: (config === null || config === void 0 ? void 0 : config.cacheDynamic) !== undefined ? !!(config === null || config === void 0 ? void 0 : config.cacheDynamic) : true,\r\n                        $less: (config === null || config === void 0 ? void 0 : config.$less) !== undefined ? !!(config === null || config === void 0 ? void 0 : config.$less) : false,\r\n                    },\r\n                },\r\n                {\r\n                    provide: APP_INITIALIZER,\r\n                    useFactory: factory(config.init),\r\n                    deps: config.deps !== undefined ? [TranslateService, ...config.deps] : [TranslateService],\r\n                    multi: true,\r\n                },\r\n                {\r\n                    provide: S_TRANSLATE,\r\n                    useValue: { id: 'root' },\r\n                },\r\n            ],\r\n        };\r\n    }\r\n    static forChild(config) {\r\n        var _a, _b;\r\n        const value = { id: ((_a = config === null || config === void 0 ? void 0 : config.id) === null || _a === void 0 ? void 0 : _a.trim()) || v4(), extend: (config === null || config === void 0 ? void 0 : config.extend) ? config.extend : undefined, deps: (_b = config.deps) !== null && _b !== void 0 ? _b : [] };\r\n        return {\r\n            ngModule: TranslateModule,\r\n            providers: [\r\n                TranslateResolve,\r\n                {\r\n                    provide: S_TRANSLATE,\r\n                    useValue: value,\r\n                },\r\n            ],\r\n        };\r\n    }\r\n}\r\nTranslateModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nTranslateModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateModule, declarations: [TranslatePipe, TranslateToPipe, TranslateDirective], exports: [TranslatePipe, TranslateToPipe, TranslateDirective] });\r\nTranslateModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.2\", ngImport: i0, type: TranslateModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [TranslatePipe, TranslateToPipe, TranslateDirective],\r\n                    exports: [TranslatePipe, TranslateToPipe, TranslateDirective],\r\n                }]\r\n        }] });\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { DEFAULT_OPTIONS, TranslateDirective, TranslateModule, TranslatePipe, TranslateService, TranslateToPipe, factory, forRootGuard };\n//# sourceMappingURL=simply-translate-angular.mjs.map\n","map":{"version":3,"file":"simply-translate-angular.mjs","sources":["../../../projects/translate/src/translate/translate.service.ts","../../../projects/translate/src/translate/translate.directive.ts","../../../projects/translate/src/translate/translate.pipe.ts","../../../projects/translate/src/translate-child-config.ts","../../../projects/translate/src/resolver.ts","../../../projects/translate/src/simply-translate.module.ts","../../../projects/translate/src/simply-translate-angular.ts"],"sourcesContent":["import { APP_INITIALIZER, Inject, Injectable, InjectionToken, Injector, Optional } from '@angular/core';\r\nimport { Translations, Dictionary } from 'simply-translate';\r\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\r\nimport { TranslateDynamicProps, TranslateKey } from 'simply-translate';\r\n\r\nexport const DEFAULT_OPTIONS = new InjectionToken<{ cacheDynamic?: boolean }>('TranslateService DEFAULT_OPTIONS');\r\n\r\n@Injectable()\r\nexport class TranslateService {\r\n    private langChangeSubj = new BehaviorSubject<{ defaultLang?: string; fallbackLang?: string }>({});\r\n    private dictionarySubj = new Subject<void>();\r\n    private service: Translations;\r\n\r\n    public languageChange$ = this.langChangeSubj.asObservable();\r\n    public dictionaryChange$ = this.dictionarySubj.asObservable();\r\n\r\n    public set defaultLang(val: string) {\r\n        this.service.defaultLang = val;\r\n        this.langChangeSubj.next({ defaultLang: this.defaultLang, fallbackLang: this.fallbackLang });\r\n    }\r\n\r\n    public get defaultLang(): string {\r\n        return this.service.defaultLang;\r\n    }\r\n\r\n    public set fallbackLang(val: string) {\r\n        this.service.fallbackLang = val;\r\n        this.langChangeSubj.next({ defaultLang: this.defaultLang, fallbackLang: this.fallbackLang });\r\n    }\r\n\r\n    public get fallbackLang(): string {\r\n        return this.service.fallbackLang;\r\n    }\r\n\r\n    constructor(@Optional() @Inject(DEFAULT_OPTIONS) options) {\r\n        const cd = options ? options.cacheDynamic : false;\r\n        this.service = new Translations({}, { cacheDynamic: options?.cacheDynamic !== false, $less: !!options?.$less });\r\n    }\r\n\r\n    translateTo(lang: string, key: TranslateKey): string;\r\n    translateTo(lang: string, key: TranslateKey, fallback: string): string;\r\n    translateTo(lang: string, key: TranslateKey, dynamicValues: TranslateDynamicProps, fallback?: string): string;\r\n    translateTo(lang: string, key: TranslateKey, dynamicValuesOrFallback?: TranslateDynamicProps | string, fallback?: string): string {\r\n        return this.service.translateTo(lang, key, dynamicValuesOrFallback as any, fallback);\r\n    }\r\n\r\n    translate(key: TranslateKey): string;\r\n    translate(key: TranslateKey, fallback: string): string;\r\n    translate(key: TranslateKey, dynamicValues: TranslateDynamicProps, fallback?: string): string;\r\n    translate(key: TranslateKey, dynamicValuesOrFallback?: TranslateDynamicProps | string, fallback?: string): string {\r\n        return this.service.translate(key, dynamicValuesOrFallback as any, fallback);\r\n    }\r\n\r\n    extendDictionary(lang: string, dictionary: Dictionary) {\r\n        this.service.extendDictionary(lang, dictionary);\r\n        this.dictionarySubj.next();\r\n    }\r\n}\r\n","import { Directive, ElementRef, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { TranslateKey } from 'simply-translate';\nimport { TranslateService } from './translate.service';\n\n@Directive({\n  selector: '[translate]',\n})\nexport class TranslateDirective implements OnInit, OnChanges {\n  private _init = false;\n  private _fb?: string;\n  @Input('translate') _key?: TranslateKey;\n  @Input('to') _to?: string;\n  @Input('values') _values?: { [key: string]: string | number };\n\n  constructor(private element: ElementRef<HTMLElement>, private service: TranslateService) {}\n\n  ngOnInit(): void {\n    this._init = true;\n  }\n  ngOnChanges(): void {\n    if (!this._init) this._fb = this.element.nativeElement.innerText;\n\n    if (this._key) {\n      this.element.nativeElement.innerText = this.service.translateTo(this._to || this.service.defaultLang!, this._key, this._values, this._fb);\n    } else {\n      this.element.nativeElement.innerText = this._fb || '';\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TranslateDynamicProps, TranslateKey } from 'simply-translate';\r\nimport { TranslateService } from './translate.service';\r\n\r\n@Pipe({ name: 'translate' })\r\nexport class TranslatePipe implements PipeTransform {\r\n  constructor(private service: TranslateService) {}\r\n  transform(key: TranslateKey, dynamicOrFallback?: TranslateDynamicProps | string, fallback?: string): string {\r\n    if (key == null || key === '') {\r\n      return '';\r\n    }\r\n    const result = this.service.translate(key, dynamicOrFallback as any, fallback);\r\n    return result;\r\n  }\r\n}\r\n\r\n@Pipe({ name: 'translateTo' })\r\nexport class TranslateToPipe implements PipeTransform {\r\n  constructor(private service: TranslateService) {}\r\n  transform(key: TranslateKey, lang: string, dynamicOrFallback?: TranslateDynamicProps | string, fallback?: string): string {\r\n    if (key == null || key === '') {\r\n      return '';\r\n    }\r\n    const result = this.service.translateTo(lang, key, dynamicOrFallback as any, fallback);\r\n    return result;\r\n  }\r\n}\r\n","import { InjectionToken } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Dictionary } from 'simply-translate';\r\nimport { TranslateService } from './translate/translate.service';\r\n\r\nexport interface TranslateSettings {\r\n  id: string;\r\n  extend: (service: TranslateService, ...deps: any[]) => Observable<{ [lang: string]: Dictionary }>;\r\n  deps:any[],\r\n}\r\nexport const S_TRANSLATE = new InjectionToken<TranslateSettings>('S_TRANSLATE');\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable, Injector, ProviderToken, Self, SkipSelf } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { isObservable, Observable, of, tap, finalize } from 'rxjs';\r\nimport { Dictionary } from 'simply-translate';\r\nimport { S_TRANSLATE, TranslateSettings } from './translate-child-config';\r\nimport { TranslateService } from './translate/translate.service';\r\n\r\n@Injectable()\r\nexport class TranslateResolve implements Resolve<any> {\r\n  private _extended: { [key: string]: null | Observable<any> } = {};\r\n  protected readonly id: string;\r\n  protected readonly extend: () => Observable<any>;\r\n\r\n  //abstract load(): Observable<{ [lang: string]: Dictionary }>;\r\n\r\n  constructor(protected service: TranslateService, injector: Injector, @Inject(S_TRANSLATE) settings: TranslateSettings) {\r\n    this.id = settings.id;\r\n    this.extend = () => {\r\n      const deps = settings.deps.map((d: ProviderToken<any>) => injector.get(d));\r\n      return settings.extend(service, ...deps);\r\n    };\r\n  }\r\n\r\n  public resolve(): Observable<any> | null {\r\n    if (typeof this.extend === 'function') {\r\n      if (!Object.prototype.hasOwnProperty.call(this._extended, this.id)) {\r\n        if (isObservable(this._extended[this.id])) {\r\n          return this._extended[this.id];\r\n        }\r\n        return (this._extended[this.id] = this.extend().pipe(\r\n          tap((res: { [lang: string]: Dictionary }) => {\r\n            for (let lang in res) {\r\n              this.service.extendDictionary(lang, res[lang]);\r\n            }\r\n          }),\r\n          finalize(() => {\r\n            this._extended[this.id] = null;\r\n          })\r\n        ));\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport { APP_INITIALIZER, Injector, ModuleWithProviders, NgModule, Optional, Self, SkipSelf } from '@angular/core';\r\nimport { DEFAULT_OPTIONS, TranslateService } from './translate/translate.service';\r\nimport { TranslatePipe, TranslateToPipe } from './translate/translate.pipe';\r\nimport { TranslateDirective } from './translate/translate.directive';\r\nimport { lastValueFrom, Observable, tap } from 'rxjs';\r\nimport { TranslateResolve } from './resolver';\r\nimport { S_TRANSLATE, TranslateSettings } from './translate-child-config';\r\nimport { Dictionary } from 'simply-translate';\r\n\r\nexport function factory(init?: Function) {\r\n  var ret = (service: TranslateService, ...deps: any[]) => {\r\n    return function () {\r\n      if (init) {\r\n        var res: Observable<Record<string, Dictionary>> = init(service, ...deps);\r\n        res = res.pipe(\r\n          tap((dics) => {\r\n            Object.keys(dics).forEach((key) => {\r\n              service.extendDictionary(key, dics[key]);\r\n            });\r\n          })\r\n        );\r\n        return lastValueFrom(res);\r\n      }\r\n      return Promise.resolve();\r\n    };\r\n  };\r\n  return ret;\r\n}\r\n\r\nexport function forRootGuard(service: TranslateService): any {\r\n  if (service) {\r\n    throw new Error(`TranslateModule.forRoot() called twice. Lazy loaded modules should use TranslateModule.forChild() instead.`);\r\n  }\r\n  return 'guarded';\r\n}\r\n\r\nexport interface Config {\r\n  init?: (service: TranslateService, ...any) => Observable<Record<string, Dictionary>>;\r\n  deps?: any[];\r\n  cacheDynamic?: boolean;\r\n  $less?: boolean;\r\n}\r\n\r\nexport interface ChildConfig {\r\n  extend?: (service: TranslateService, ...any) => Observable<Record<string, Dictionary>>;\r\n  deps?: any[];\r\n  id?: string;\r\n}\r\n\r\n@NgModule({\r\n  declarations: [TranslatePipe, TranslateToPipe, TranslateDirective],\r\n  exports: [TranslatePipe, TranslateToPipe, TranslateDirective],\r\n})\r\nexport class TranslateModule {\r\n  static forRoot(config?: Config): ModuleWithProviders<TranslateModule> {\r\n    return {\r\n      ngModule: TranslateModule,\r\n      providers: [\r\n        TranslateService,\r\n        TranslateResolve,\r\n        {\r\n          provide: DEFAULT_OPTIONS,\r\n          useValue: {\r\n            cacheDynamic: config?.cacheDynamic !== undefined ? !!config?.cacheDynamic : true,\r\n            $less: config?.$less !== undefined ? !!config?.$less : false,\r\n          },\r\n        },\r\n        {\r\n          provide: APP_INITIALIZER,\r\n          useFactory: factory(config.init),\r\n          deps: config.deps !== undefined ? [TranslateService, ...config.deps] : [TranslateService],\r\n          multi: true,\r\n        },\r\n        {\r\n          provide: S_TRANSLATE,\r\n          useValue: { id: 'root' },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  static forChild(config?: ChildConfig): ModuleWithProviders<TranslateModule> {\r\n    const value: TranslateSettings = { id: config?.id?.trim() || uuidv4(), extend: config?.extend ? config.extend : undefined, deps: config.deps ?? [] };\r\n    return {\r\n      ngModule: TranslateModule,\r\n      providers: [\r\n        TranslateResolve,\r\n        {\r\n          provide: S_TRANSLATE,\r\n          useValue: value,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["uuidv4"],"mappings":"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"}}}